<html>
<head>
    <title>Lab Task</title>
</head>
<body>
    <form>
        <fieldset>
            <table>
                <tr>
                    <td>Enter Variable Name: <input id="VariableName" type="text"></td>
                    <td>Select Type:</td>
                    <td>
                        <select id="inputType" name="input_type">
                            <option value="">Select input type</option>
                            <option value="text">Text</option>
                            <option value="email">Email</option>
                            <option value="radio">Gender</option>
                            <option value="number">Date</option>
                            <option value="select">Blood Group</option>
                            <option value="checkbox">Degree</option>
                        </select>
                        <input type="button" id="add" value="Add">
                    </td>
                    <td> <div id="VariableNameDisplay" style="color:red;"> </div> </td>
                </tr>
                <tr></tr>
                <tr id="Text">
                    <td> <div id="TextVariable" type="text"></div> </td>
                    <td>
                        <input id="name" type="text" name="name">
                    </td>
                    <td>
                        <div id="blankName" style="color:red;"></div>
                        <div id="lengthName" style="color:red;"></div>
                        <div id="startName" style="color:red;"></div>
                        <div id="containtName" style="color:red;"></div>
                    </td>
                </tr>
                <tr id="Email">
                    <td><div id="EmailVariable" type="email"></div></td>
                    <td>
                        <input id="email" type="email" name="email" required>
                    </td>
                    <td>
                        <div id="blankEmail" style="color:red;"></div>
                        <div id="invalidEmail" style="color:red;"></div>
                    </td>
                </tr>
                    <tr id="Radio">
                        <td><div id="RadioVariable"></div></td>
                        <td>
                            <input type="radio" name="gender" value="Male"> Male
                            <input type="radio" name="gender" value="Female"> Female
                            <input type="radio" name="gender" value="Other"> Other
                        </td>
                        <td>
                            <div id="blankGender" style="color:red;"></div>
                        </td>
                    </tr>
                    <tr id="Number">
                        <td><div id="NumberVariable" type="number"></div></td>
                        <td>
                            <input id="day" type="number" name="dd"> / <input id="month" type="number" name="mm"> / <input id="year" type="number" name="yyyy"> <i>(dd/mm/yyyy)</i>
                        </td>
                        <td>
                            <div id="blankDOB" style="color:red;"></div>
                            <div id="invalidDOB" style="color:red;"></div>
                        </td>
                    </tr>
                    <tr id="Drop-down">
                        <td><div id="Drop-downVariable" type="dropdown"></div></td>
                        <td>
                            <select id="bloodGroup" name="blood_group">
                                <option value="">Select Blood Group</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                            </select>
                        </td>
                        <td>
                            <div id="blankBlood" style="color:red;"></div>
                        </td>
                    </tr>
                    <tr id="Checkbox">
                        <td><div id="CheckboxVariable" type="checkbox"></div></td>
                        <td>
                            <input type="checkbox" id="SSC" name="degree" value="SSC">
                            <label for="SSC">SSC</label>
                            <input type="checkbox" id="HSC" name="degree" value="HSC">
                            <label for="HSC">HSC</label>
                            <input type="checkbox" id="BSc." name="degree" value="BSc.">
                            <label for="BSc.">BSc.</label>
                            <input type="checkbox" id="MSc." name="degree" value="MSc.">
                            <label for="MSc.">MSc.</label>
                        </td>
                        <td>
                            <div id="blankDegree" style="color:red;"></div>                            
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input type="button" id="submit" value="Submit"></td>
                    </tr>
            </table>
            <div id="outputName" style="margin-top:20px; color:blue;"></div>
            <div id="outputEmail" style="color:blue;"></div>
            <div id="outputGender" style="color:blue;"></div>
            <div id="outputDOB" style="color:blue;"></div>
            <div id="outputBlood" style="color:blue;"></div>
            <div id="outputDegree" style="color:blue;"></div>

        </fieldset>
    </form>
</body>

<script>
    document.getElementById("Text").hidden = true;
    document.getElementById("Email").hidden = true;
    document.getElementById("Radio").hidden = true;
    document.getElementById("Number").hidden = true;
    document.getElementById("Drop-down").hidden = true;
    document.getElementById("Checkbox").hidden = true;


    document.getElementById("add").onclick = function() {

            let varName = document.getElementById("VariableName").value.trim();
            let VariableNameDisplay = document.getElementById("VariableNameDisplay");

        if (varName === "") {
            VariableNameDisplay.innerHTML = "Cannot be empty";
        }

        else {
            
            VariableNameDisplay.innerHTML = ""; 
            let type = document.getElementById("inputType").value;

            if (type === "") {
                VariableNameDisplay.innerHTML = "Please select a type";
                return;
            }

            if (type === "text") {
                document.getElementById("TextVariable").innerHTML = varName + ": ";       
                document.getElementById("Text").hidden = false;
            }

            if (type === "email") {
                document.getElementById("EmailVariable").innerHTML = varName + ": ";
                document.getElementById("Email").hidden = false;
            }
            if (type === "radio") {
                document.getElementById("RadioVariable").innerHTML = varName + ": ";
                document.getElementById("Radio").hidden = false;
            }
            if (type === "number") {
                document.getElementById("NumberVariable").innerHTML = varName + ": ";
                document.getElementById("Number").hidden = false;
            }
            if (type === "select") {
                document.getElementById("Drop-downVariable").innerHTML = varName + ": ";
                document.getElementById("Drop-down").hidden = false;
            }
            if (type === "checkbox") {
                document.getElementById("CheckboxVariable").innerHTML = varName + ": ";
                document.getElementById("Checkbox").hidden = false;
            }

        }
    };

    document.getElementById('submit').addEventListener('click', Error);


    function Error() {

        document.getElementById('outputName').innerHTML = "";
        document.getElementById('outputEmail').innerHTML = "";
        document.getElementById('outputGender').innerHTML = "";
        document.getElementById('outputDOB').innerHTML = "";
        document.getElementById('outputBlood').innerHTML = "";
        document.getElementById('outputDegree').innerHTML = "";

        document.getElementById("blankName").innerHTML = "";
        document.getElementById("lengthName").innerHTML = "";
        document.getElementById("startName").innerHTML = "";
        document.getElementById("blankEmail").innerHTML = "";
        document.getElementById("invalidEmail").innerHTML = "";
        document.getElementById("blankGender").innerHTML = "";
        document.getElementById("blankDOB").innerHTML = "";
        document.getElementById("invalidDOB").innerHTML = "";
        document.getElementById("blankBlood").innerHTML = "";
        document.getElementById("blankDegree").innerHTML = "";

        let anyError = false;

        let name = "";
        let email = "";
        let gender = null;
        let day = "";
        let month = "";
        let year = "";
        let blood = document.getElementById("bloodGroup");
        let selectedDegrees = [];

        if(document.getElementById("Text").hidden && document.getElementById("Email").hidden && document.getElementById("Radio").hidden && document.getElementById("Number").hidden && document.getElementById("Drop-down").hidden && document.getElementById("Checkbox").hidden) {
            alert("No input to submit!");
            return;
        }

        if (!document.getElementById("Text").hidden) {
            name = document.getElementById("name").value.trim();
            let blankName = document.getElementById("blankName");
            let lengthName = document.getElementById("lengthName");
            let startName = document.getElementById("startName");

            blankName.innerHTML = "";
            lengthName.innerHTML = "";
            startName.innerHTML = "";

            let namehasError = false;

            if (name === "") {
                blankName.innerHTML = "Cannot be empty";
                namehasError = true;
            } else {
                let firstChar = name.charCodeAt(0);
                if (!((firstChar >= 65 && firstChar <= 90) || (firstChar >= 97 && firstChar <= 122))) {
                    startName.innerHTML = "Must start with a letter";
                    namehasError = true;
                }
            }

            if (namehasError) anyError = true;
        }

        if (!document.getElementById("Email").hidden) {
            email = document.getElementById("email").value.trim();
            let emailType = document.getElementById("email");
            let blankEmail = document.getElementById("blankEmail");
            let invalidEmail = document.getElementById("invalidEmail");

            blankEmail.innerHTML = "";
            invalidEmail.innerHTML = "";

            let emailhasError = false;

            if (email === "") {
                blankEmail.innerHTML = "Cannot be empty";
                emailhasError = true;
            } else if (!emailType.checkValidity()) {
                invalidEmail.innerHTML = "Must be a valid email address (i.e anything@example.com)";
                emailhasError = true;
            }

            if (emailhasError) anyError = true;
        }

        if (!document.getElementById("Radio").hidden) {
            gender = document.querySelector('input[name="gender"]:checked');
            let blankGender = document.getElementById("blankGender");
            blankGender.innerHTML = "";

            let genderhasError = false;

            if (!gender) {
                blankGender.innerHTML = "At least one of them has to be selected";
                genderhasError = true;
            }

            if (genderhasError) anyError = true;
        }

        if (!document.getElementById("Number").hidden) {
            day = document.getElementById("day").value.trim();
            month = document.getElementById("month").value.trim();
            year = document.getElementById("year").value.trim();
            let blankDOB = document.getElementById("blankDOB");
            let invalidDOB = document.getElementById("invalidDOB");

            blankDOB.innerHTML = "";
            invalidDOB.innerHTML = "";

            let dobhasError = false;

            if (day === "" || month === "" || year === "") {
                blankDOB.innerHTML = "Cannot be empty";
                dobhasError = true;
            } else if (!(day >= 1 && day <= 31 && month >= 1 && month <= 12 && year >= 1900 && year <= 2016)) {
                invalidDOB.innerHTML = "Must be a valid number (dd: 1-31, mm: 1-12, yyyy: 1900-2016)";
                dobhasError = true;
            }

            if (dobhasError) anyError = true;
        }

        if (!document.getElementById("Drop-down").hidden) {
            let blankBlood = document.getElementById("blankBlood");
            blankBlood.innerHTML = "";

            let bloodhasError = false;

            if (!blood.value) {
                blankBlood.innerHTML = "Must be selected";
                bloodhasError = true;
            }

            if (bloodhasError) anyError = true;
        }

        if (!document.getElementById("Checkbox").hidden) {
            let degree = document.querySelectorAll('input[name="degree"]:checked');
            let blankDegree = document.getElementById("blankDegree");
            blankDegree.innerHTML = "";

            let degreehasError = false;

            selectedDegrees = [];
            for (let i = 0; i < degree.length; i++) {
                selectedDegrees.push(degree[i].value);
            }

            if (selectedDegrees.length === 0) {
                blankDegree.innerHTML = "At least one of them has to be selected";
                degreehasError = true;
            }

            if (degreehasError) anyError = true;
        }

        if (!anyError) {
            if (!document.getElementById("Text").hidden) {
                document.getElementById('outputName').innerHTML = name;
            }
            if (!document.getElementById("Email").hidden) {
                document.getElementById('outputEmail').innerHTML = email;
            }
            if (!document.getElementById("Radio").hidden) {
                document.getElementById('outputGender').innerHTML = gender.value;
            }
            if (!document.getElementById("Number").hidden) {
                document.getElementById('outputDOB').innerHTML = day + "/" + month + "/" + year;
            }
            if (!document.getElementById("Drop-down").hidden) {
                document.getElementById('outputBlood').innerHTML = blood.value;
            }
            if (!document.getElementById("Checkbox").hidden) {
                document.getElementById('outputDegree').innerHTML = selectedDegrees.join(", ");
            }
        }
    }
</script>

</html>